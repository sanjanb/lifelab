import{i as V}from"./lifecycle.C7LIllQC.js";import{f as F,t as N,g as e,e as T,a as R,p as W,s as i,b as X,c as o,r as n,m as q,u as d,d as Y,h as D,i as p,j as v}from"./template.BYV1JzE2.js";import{s as y}from"./render.DGpk54Xg.js";import{i as j}from"./if.WMWJDOLq.js";import{r as Z,s as $}from"./attributes.7Dtqmd9f.js";import{s as ee}from"./class.BGF3wVPj.js";import{b as L}from"./input.DybS-KYe.js";import{p as P}from"./props.xJmC_mX4.js";import{s as te}from"./storage.mmsOLJq4.js";import{c as ae}from"./utils.VzlMTaMY.js";import{a as re}from"./notebookSync.qY34yKPg.js";import{g as se}from"./monthResolution.rEZZeYeX.js";/* empty css                        */import"./attributes.Bu93Vllf.js";import"./config.BPkNxJtt.js";function oe(g){return{habits:"Morning meditation, Exercise, Read for 30 minutes",learning:"Completed React course module 3, Read 2 chapters of Clean Code",career:"Completed project proposal, Team meeting, Code review",health:"Ran 5km, Ate healthy breakfast, 8 hours sleep"}[g]||"Enter your activity..."}var ne=F('<span class="error-message svelte-1md1nph"> </span>'),le=F('<div class="error-message general-error svelte-1md1nph"> </div>'),ie=F('<div class="quick-entry-form-container svelte-1md1nph"><form class="habit-entry-form svelte-1md1nph"><div class="form-group svelte-1md1nph"><label for="entry-value" class="form-label svelte-1md1nph"> </label> <input type="text" id="entry-value" name="value" required/> <!></div> <div class="form-group svelte-1md1nph"><label for="entry-notes" class="form-label svelte-1md1nph">Notes (optional)</label> <textarea id="entry-notes" name="notes" class="form-textarea svelte-1md1nph" placeholder="Add any additional details..." rows="3"></textarea></div> <div class="form-actions svelte-1md1nph"><button type="submit" class="btn btn-primary svelte-1md1nph"> </button> <button type="button" class="btn btn-secondary svelte-1md1nph">Clear</button></div> <!></form></div>');function ke(g,c){X(c,!1);let u=P(c,"domainId",8),f=P(c,"domainConfig",8),s=q({value:"",notes:""}),t=q({}),l=q(!1);function Q(){return v(t,{}),e(s).value.trim()?!0:(p(t,e(t).value="This field is required"),!1)}async function z(a){if(a.preventDefault(),!!Q()){v(l,!0);try{const r=ae(e(s).value,e(s).notes);if(te(u(),r)){const S=se();re(u(),S.year,S.month),v(s,{value:"",notes:""}),window.dispatchEvent(new CustomEvent("entryAdded",{detail:{domainId:u(),entry:r}}))}else p(t,e(t).general="Failed to save entry")}catch(r){console.error("Error saving entry:",r),p(t,e(t).general="An error occurred")}finally{v(l,!1)}}}function B(){v(s,{value:"",notes:""}),v(t,{})}V();var _=ie(),x=o(_),C=o(x),E=o(C),G=o(E);n(E);var m=i(E,2);Z(m);let I;var H=i(m,2);{var J=a=>{var r=ne(),b=o(r,!0);n(r),N(()=>y(b,(e(t),d(()=>e(t).value)))),R(a,r)};j(H,a=>{e(t),d(()=>e(t).value)&&a(J)})}n(C);var k=i(C,2),w=i(o(k),2);Y(w),n(k);var A=i(k,2),h=o(A),K=o(h,!0);n(h);var M=i(h,2);n(A);var O=i(A,2);{var U=a=>{var r=le(),b=o(r,!0);n(r),N(()=>y(b,(e(t),d(()=>e(t).general)))),R(a,r)};j(O,a=>{e(t),d(()=>e(t).general)&&a(U)})}n(x),n(_),N(a=>{y(G,`${D(f()),d(()=>f().displayName)??""} Entry`),I=ee(m,1,"form-input svelte-1md1nph",null,I,{error:e(t).value}),$(m,"placeholder",a),m.disabled=e(l),w.disabled=e(l),h.disabled=e(l),y(K,(e(l),D(f()),d(()=>e(l)?"Saving...":`Log ${f().displayName}`))),M.disabled=e(l)},[()=>(D(u()),d(()=>`e.g., ${oe(u())}`))]),L(m,()=>e(s).value,a=>p(s,e(s).value=a)),L(w,()=>e(s).notes,a=>p(s,e(s).notes=a)),T("click",M,B),T("submit",x,z),R(g,_),W()}export{ke as default};
