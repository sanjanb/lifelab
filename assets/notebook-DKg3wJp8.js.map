{"version":3,"file":"notebook-DKg3wJp8.js","sources":["../../src/data/entry.js","../../src/pages/notebook.js"],"sourcesContent":["/**\r\n * Data Entry UI Components\r\n * In-app editing instead of manual JSON files\r\n */\r\n\r\nimport { createDayRecord, DEFAULT_DOMAINS } from \"./schema.js\";\r\n\r\n/**\r\n * Renders a data entry form for a specific date\r\n * @param {HTMLElement} container - Container element\r\n * @param {string} date - Date to edit (ISO format)\r\n * @param {Object} existingData - Existing data for the date\r\n * @param {Function} onSave - Callback when data is saved\r\n */\r\nexport function renderDataEntryForm(\r\n  container,\r\n  date,\r\n  existingData = null,\r\n  onSave = null\r\n) {\r\n  const data = existingData || createDayRecord(date, { ...DEFAULT_DOMAINS });\r\n\r\n  container.innerHTML = `\r\n    <div class=\"data-entry-form\">\r\n      <h3>Entry for ${formatDate(date)}</h3>\r\n      \r\n      <div class=\"form-group\">\r\n        <label>Date</label>\r\n        <input type=\"date\" id=\"entry-date\" value=\"${date}\" />\r\n      </div>\r\n      \r\n      <div class=\"domains-section\">\r\n        <h4>Domain Scores (0.0 - 1.0)</h4>\r\n        ${renderDomainInputs(data.domains)}\r\n      </div>\r\n      \r\n      <div class=\"form-group\">\r\n        <label for=\"entry-notes\">Notes</label>\r\n        <textarea id=\"entry-notes\" rows=\"4\" placeholder=\"Optional reflection...\">${\r\n          data.notes || \"\"\r\n        }</textarea>\r\n      </div>\r\n      \r\n      <div class=\"form-actions\">\r\n        <button class=\"btn-primary\" id=\"save-entry\">Save Entry</button>\r\n        <button class=\"btn-secondary\" id=\"cancel-entry\">Cancel</button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  // Attach event listeners\r\n  const saveBtn = container.querySelector(\"#save-entry\");\r\n  const cancelBtn = container.querySelector(\"#cancel-entry\");\r\n\r\n  saveBtn.addEventListener(\"click\", () => {\r\n    const savedData = collectFormData();\r\n    if (onSave) onSave(savedData);\r\n  });\r\n\r\n  cancelBtn.addEventListener(\"click\", () => {\r\n    container.innerHTML = \"\";\r\n  });\r\n}\r\n\r\n/**\r\n * Renders domain input fields\r\n */\r\nfunction renderDomainInputs(domains) {\r\n  return Object.entries(domains || DEFAULT_DOMAINS)\r\n    .map(\r\n      ([domain, value]) => `\r\n      <div class=\"domain-input\">\r\n        <label for=\"domain-${domain}\">${capitalizeFirst(domain)}</label>\r\n        <input \r\n          type=\"number\" \r\n          id=\"domain-${domain}\" \r\n          name=\"${domain}\"\r\n          min=\"0\" \r\n          max=\"1\" \r\n          step=\"0.1\" \r\n          value=\"${value}\"\r\n        />\r\n      </div>\r\n    `\r\n    )\r\n    .join(\"\");\r\n}\r\n\r\n/**\r\n * Collects data from the form\r\n */\r\nfunction collectFormData() {\r\n  const date = document.getElementById(\"entry-date\").value;\r\n  const notes = document.getElementById(\"entry-notes\").value;\r\n\r\n  const domains = {};\r\n  document.querySelectorAll(\".domain-input input\").forEach((input) => {\r\n    domains[input.name] = parseFloat(input.value) || 0;\r\n  });\r\n\r\n  return createDayRecord(date, domains, notes);\r\n}\r\n\r\n/**\r\n * Renders a quick entry widget for today\r\n */\r\nexport function renderQuickEntry(container, onSave) {\r\n  const today = new Date().toISOString().split(\"T\")[0];\r\n\r\n  container.innerHTML = `\r\n    <div class=\"quick-entry\">\r\n      <div class=\"quick-entry-header\">\r\n        <h3>Quick Entry</h3>\r\n        <span class=\"quick-entry-date\">${formatDate(today)}</span>\r\n      </div>\r\n      <div class=\"quick-domains\">\r\n        ${Object.keys(DEFAULT_DOMAINS)\r\n          .map(\r\n            (domain) => `\r\n          <div class=\"quick-domain-slider\">\r\n            <div class=\"slider-label\">\r\n              <label>${capitalizeFirst(domain)}</label>\r\n              <span class=\"slider-value\" id=\"value-${domain}\">50%</span>\r\n            </div>\r\n            <div class=\"slider-track-wrapper\">\r\n              <div class=\"slider-markers\">\r\n                <span>0</span>\r\n                <span>25</span>\r\n                <span>50</span>\r\n                <span>75</span>\r\n                <span>100</span>\r\n              </div>\r\n              <input type=\"range\" id=\"quick-${domain}\" min=\"0\" max=\"100\" step=\"5\" value=\"50\" list=\"markers\" />\r\n            </div>\r\n          </div>\r\n        `\r\n          )\r\n          .join(\"\")}\r\n      </div>\r\n      <button class=\"btn-primary\" id=\"quick-save\">\r\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" style=\"margin-right: 8px;\">\r\n          <path d=\"M13 2H3C2.44772 2 2 2.44772 2 3V13C2 13.5523 2.44772 14 3 14H13C13.5523 14 14 13.5523 14 13V3C14 2.44772 13.5523 2 13 2Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          <path d=\"M11 2V6H5V2\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          <path d=\"M5 10H11\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\r\n        </svg>\r\n        Save Entry\r\n      </button>\r\n    </div>\r\n  `;\r\n\r\n  // Update slider values with snap-to-grid behavior\r\n  container.querySelectorAll('input[type=\"range\"]').forEach((slider) => {\r\n    const updateValue = (value) => {\r\n      const domain = slider.id.replace(\"quick-\", \"\");\r\n      const valueSpan = document.getElementById(`value-${domain}`);\r\n      valueSpan.textContent = `${value}%`;\r\n\r\n      // Visual feedback for value ranges\r\n      slider.style.setProperty(\"--slider-value\", value);\r\n    };\r\n\r\n    slider.addEventListener(\"input\", (e) => {\r\n      updateValue(e.target.value);\r\n    });\r\n\r\n    // Snap to nearest 5 on release\r\n    slider.addEventListener(\"change\", (e) => {\r\n      const snapped = Math.round(e.target.value / 5) * 5;\r\n      e.target.value = snapped;\r\n      updateValue(snapped);\r\n    });\r\n\r\n    // Initialize\r\n    updateValue(slider.value);\r\n  });\r\n\r\n  // Save handler\r\n  container.querySelector(\"#quick-save\").addEventListener(\"click\", () => {\r\n    const domains = {};\r\n    container.querySelectorAll('input[type=\"range\"]').forEach((slider) => {\r\n      const domain = slider.id.replace(\"quick-\", \"\");\r\n      domains[domain] = parseFloat(slider.value) / 100;\r\n    });\r\n\r\n    const entry = createDayRecord(today, domains, \"\");\r\n    if (onSave) onSave(entry);\r\n  });\r\n}\r\n\r\n/**\r\n * Helper: Format date for display\r\n */\r\nfunction formatDate(dateStr) {\r\n  const date = new Date(dateStr + \"T00:00:00\");\r\n  return date.toLocaleDateString(\"en-US\", {\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  });\r\n}\r\n\r\n/**\r\n * Helper: Capitalize first letter\r\n */\r\nfunction capitalizeFirst(str) {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n","/**\r\n * Notebook Page\r\n * Detailed table view of daily entries with editing capability\r\n */\r\n\r\nimport \"../styles/base.css\";\r\nimport \"../styles/layout.css\";\r\nimport \"../styles/components.css\";\r\n\r\nimport { loadMonth, saveDayEntry, deleteDayEntry } from \"../data/storage.js\";\r\nimport { renderQuickEntry, renderDataEntryForm } from \"../data/entry.js\";\r\nimport {\r\n  renderImportExportUI,\r\n  exportToCSV,\r\n  exportToJSON,\r\n} from \"../data/export.js\";\r\n\r\nlet currentYear = new Date().getFullYear();\r\nlet currentMonth = new Date().getMonth() + 1;\r\nlet currentData = [];\r\n\r\n/**\r\n * Initialize notebook page\r\n */\r\nasync function init() {\r\n  updateMonthDisplay();\r\n  loadMonthData();\r\n  setupNavigation();\r\n  renderQuickEntryWidget();\r\n  renderExportOptions();\r\n}\r\n\r\n/**\r\n * Load month data and render table\r\n */\r\nfunction loadMonthData() {\r\n  currentData = loadMonth(currentYear, currentMonth);\r\n  renderNotebookTable();\r\n}\r\n\r\n/**\r\n * Update month display\r\n */\r\nfunction updateMonthDisplay() {\r\n  const display = document.getElementById(\"current-month-display\");\r\n  const date = new Date(currentYear, currentMonth - 1);\r\n  display.textContent = date.toLocaleDateString(\"en-US\", {\r\n    month: \"long\",\r\n    year: \"numeric\",\r\n  });\r\n}\r\n\r\n/**\r\n * Setup month navigation\r\n */\r\nfunction setupNavigation() {\r\n  document.getElementById(\"prev-month\").addEventListener(\"click\", () => {\r\n    currentMonth--;\r\n    if (currentMonth < 1) {\r\n      currentMonth = 12;\r\n      currentYear--;\r\n    }\r\n    updateMonthDisplay();\r\n    loadMonthData();\r\n  });\r\n\r\n  document.getElementById(\"next-month\").addEventListener(\"click\", () => {\r\n    currentMonth++;\r\n    if (currentMonth > 12) {\r\n      currentMonth = 1;\r\n      currentYear++;\r\n    }\r\n    updateMonthDisplay();\r\n    loadMonthData();\r\n  });\r\n}\r\n\r\n/**\r\n * Render notebook table\r\n */\r\nfunction renderNotebookTable() {\r\n  const container = document.getElementById(\"notebook-table-container\");\r\n\r\n  if (currentData.length === 0) {\r\n    container.innerHTML = `\r\n      <div class=\"empty-state\">\r\n        <p>No entries for this month yet.</p>\r\n        <p>Use the Quick Entry above to get started!</p>\r\n      </div>\r\n    `;\r\n    return;\r\n  }\r\n\r\n  // Get all unique domains\r\n  const domains = new Set();\r\n  currentData.forEach((day) => {\r\n    if (day.domains) {\r\n      Object.keys(day.domains).forEach((d) => domains.add(d));\r\n    }\r\n  });\r\n  const domainList = Array.from(domains).sort();\r\n\r\n  const table = `\r\n    <table class=\"data-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Date</th>\r\n          ${domainList.map((d) => `<th>${capitalizeFirst(d)}</th>`).join(\"\")}\r\n          <th>Avg</th>\r\n          <th>Notes</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${currentData.map((day) => renderTableRow(day, domainList)).join(\"\")}\r\n      </tbody>\r\n    </table>\r\n  `;\r\n\r\n  container.innerHTML = table;\r\n\r\n  // Attach event listeners\r\n  container.querySelectorAll(\".btn-edit\").forEach((btn) => {\r\n    btn.addEventListener(\"click\", (e) => {\r\n      const date = e.target.dataset.date;\r\n      const dayData = currentData.find((d) => d.date === date);\r\n      showEditForm(date, dayData);\r\n    });\r\n  });\r\n\r\n  container.querySelectorAll(\".btn-delete\").forEach((btn) => {\r\n    btn.addEventListener(\"click\", (e) => {\r\n      const date = e.target.dataset.date;\r\n      if (confirm(`Delete entry for ${date}?`)) {\r\n        deleteDayEntry(date);\r\n        loadMonthData();\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Render a single table row\r\n */\r\nfunction renderTableRow(day, domainList) {\r\n  const scores = domainList.map((d) => day.domains[d] || \"—\");\r\n  const avg = calculateAverage(day);\r\n  const formattedDate = new Date(day.date + \"T00:00:00\").toLocaleDateString(\r\n    \"en-US\",\r\n    {\r\n      weekday: \"short\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    }\r\n  );\r\n\r\n  return `\r\n    <tr>\r\n      <td><strong>${formattedDate}</strong></td>\r\n      ${scores\r\n        .map(\r\n          (s) =>\r\n            `<td class=\"score-cell\">${\r\n              typeof s === \"number\" ? s.toFixed(2) : s\r\n            }</td>`\r\n        )\r\n        .join(\"\")}\r\n      <td class=\"avg-cell\"><strong>${\r\n        avg !== null ? avg.toFixed(2) : \"—\"\r\n      }</strong></td>\r\n      <td class=\"notes-cell\">${truncateNotes(day.notes || \"\")}</td>\r\n      <td class=\"actions-cell\">\r\n        <button class=\"btn-icon btn-edit\" data-date=\"${day.date}\" title=\"Edit\">\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r\n            <path d=\"M11.3333 2.00004C11.5084 1.82494 11.7163 1.68605 11.9451 1.59129C12.1739 1.49653 12.4191 1.44775 12.6666 1.44775C12.9142 1.44775 13.1594 1.49653 13.3882 1.59129C13.617 1.68605 13.8249 1.82494 14 2.00004C14.1751 2.17513 14.314 2.383 14.4087 2.61178C14.5035 2.84055 14.5523 3.08575 14.5523 3.33337C14.5523 3.58099 14.5035 3.82619 14.4087 4.05497C14.314 4.28374 14.1751 4.49161 14 4.66671L5.00001 13.6667L1.33334 14.6667L2.33334 11L11.3333 2.00004Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n        <button class=\"btn-icon btn-delete\" data-date=\"${\r\n          day.date\r\n        }\" title=\"Delete\">\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r\n            <path d=\"M2 4H14\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            <path d=\"M12.6667 4V13.3333C12.6667 14 12 14.6667 11.3333 14.6667H4.66667C4 14.6667 3.33333 14 3.33333 13.3333V4\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            <path d=\"M5.33333 4V2.66667C5.33333 2 6 1.33333 6.66667 1.33333H9.33333C10 1.33333 10.6667 2 10.6667 2.66667V4\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  `;\r\n}\r\n\r\n/**\r\n * Calculate average score for a day\r\n */\r\nfunction calculateAverage(day) {\r\n  if (!day.domains) return null;\r\n  const scores = Object.values(day.domains).filter(\r\n    (s) => typeof s === \"number\"\r\n  );\r\n  if (scores.length === 0) return null;\r\n  return scores.reduce((sum, s) => sum + s, 0) / scores.length;\r\n}\r\n\r\n/**\r\n * Truncate notes for table display\r\n */\r\nfunction truncateNotes(notes, maxLength = 50) {\r\n  if (!notes) return \"—\";\r\n  if (notes.length <= maxLength) return notes;\r\n  return notes.substring(0, maxLength) + \"...\";\r\n}\r\n\r\n/**\r\n * Show edit form\r\n */\r\nfunction showEditForm(date, existingData) {\r\n  const formContainer = document.createElement(\"div\");\r\n  formContainer.className = \"modal-overlay\";\r\n  formContainer.innerHTML = `\r\n    <div class=\"modal-content\">\r\n      <div id=\"edit-form\"></div>\r\n    </div>\r\n  `;\r\n  document.body.appendChild(formContainer);\r\n\r\n  renderDataEntryForm(\r\n    formContainer.querySelector(\"#edit-form\"),\r\n    date,\r\n    existingData,\r\n    (data) => {\r\n      saveDayEntry(data);\r\n      loadMonthData();\r\n      formContainer.remove();\r\n    }\r\n  );\r\n\r\n  // Close on background click\r\n  formContainer.addEventListener(\"click\", (e) => {\r\n    if (e.target === formContainer) {\r\n      formContainer.remove();\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Render quick entry widget\r\n */\r\nfunction renderQuickEntryWidget() {\r\n  const container = document.getElementById(\"quick-entry-container\");\r\n  renderQuickEntry(container, (data) => {\r\n    saveDayEntry(data);\r\n    loadMonthData();\r\n    alert(\"Entry saved!\");\r\n  });\r\n}\r\n\r\n/**\r\n * Render export options\r\n */\r\nfunction renderExportOptions() {\r\n  const container = document.getElementById(\"export-container\");\r\n\r\n  container.innerHTML = `\r\n    <div class=\"export-buttons\">\r\n      <button class=\"btn-secondary\" id=\"export-month-json\">Export Month (JSON)</button>\r\n      <button class=\"btn-secondary\" id=\"export-month-csv\">Export Month (CSV)</button>\r\n    </div>\r\n  `;\r\n\r\n  container\r\n    .querySelector(\"#export-month-json\")\r\n    .addEventListener(\"click\", () => {\r\n      exportToJSON(currentData, currentYear, currentMonth);\r\n    });\r\n\r\n  container.querySelector(\"#export-month-csv\").addEventListener(\"click\", () => {\r\n    const filename = `lifelab-${currentYear}-${String(currentMonth).padStart(\r\n      2,\r\n      \"0\"\r\n    )}.csv`;\r\n    exportToCSV(currentData, filename);\r\n  });\r\n}\r\n\r\n/**\r\n * Helper: Capitalize first letter\r\n */\r\nfunction capitalizeFirst(str) {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n// Initialize\r\ninit();\r\n"],"names":["renderDataEntryForm","container","date","existingData","onSave","data","createDayRecord","DEFAULT_DOMAINS","domains","innerHTML","formatDate","Object","entries","map","domain","value","capitalizeFirst","join","notes","saveBtn","querySelector","cancelBtn","addEventListener","savedData","document","getElementById","querySelectorAll","forEach","input","name","parseFloat","collectFormData","dateStr","Date","toLocaleDateString","weekday","year","month","day","str","charAt","toUpperCase","slice","currentYear","getFullYear","currentMonth","getMonth","currentData","loadMonthData","loadMonth","length","Set","keys","d","add","domainList","Array","from","sort","table","scores","avg","values","filter","s","reduce","sum","calculateAverage","formattedDate","toFixed","maxLength","substring","truncateNotes","renderTableRow","btn","e","target","dataset","dayData","find","formContainer","createElement","className","body","appendChild","saveDayEntry","remove","showEditForm","confirm","deleteDayEntry","renderNotebookTable","updateMonthDisplay","display","textContent","async","today","toISOString","split","slider","updateValue","id","replace","style","setProperty","snapped","Math","round","entry","renderQuickEntry","alert","exportToJSON","filename","String","padStart","exportToCSV","renderExportOptions","init"],"mappings":"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"}