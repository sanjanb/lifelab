function t(t,s,r={}){const{cellSize:i=24,cellGap:o=4,labelWidth:a=100,year:l=(new Date).getFullYear(),month:c=(new Date).getMonth()+1}=r;if(s.innerHTML="",!t||0===t.length)return void(s.innerHTML='<p class="empty-state">No data for this month</p>');const d=new Set;t.forEach(t=>{t.domains&&Object.keys(t.domains).forEach(t=>d.add(t))});const u=Array.from(d).sort(),h=new Date(l,c,0).getDate(),w=new Map;t.forEach(t=>{const e=new Date(t.date+"T00:00:00").getDate();w.set(e,t)});const p=a+(i+o)*h+20,b=40+(i+o)*u.length+10,f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("viewBox",`0 0 ${p} ${b}`),f.style.width="100%",f.style.height="auto";const m=document.createElementNS("http://www.w3.org/2000/svg","rect");m.setAttribute("x",a-5),m.setAttribute("y",35),m.setAttribute("width",(i+o)*h+5),m.setAttribute("height",(i+o)*u.length+5),m.setAttribute("fill","none"),m.setAttribute("stroke","#edf2f7"),m.setAttribute("stroke-width","2"),m.setAttribute("rx","6"),f.appendChild(m);for(let e=1;e<=h;e++){const t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("x",a+(e-1)*(i+o)+i/2),t.setAttribute("y",30),t.setAttribute("text-anchor","middle"),t.setAttribute("font-size","10px"),t.setAttribute("font-weight","500"),t.setAttribute("fill","#718096"),t.setAttribute("font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"),t.textContent=e,f.appendChild(t)}u.forEach((t,s)=>{const r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("x",a-10),r.setAttribute("y",40+s*(i+o)+i/2+5),r.setAttribute("text-anchor","end"),r.setAttribute("font-size","11px"),r.setAttribute("font-weight","600"),r.setAttribute("fill","#4a5568"),r.setAttribute("font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"),r.textContent=e(t),f.appendChild(r);for(let d=1;d<=h;d++){const r=a+(d-1)*(i+o),u=40+s*(i+o),p=document.createElementNS("http://www.w3.org/2000/svg","rect");p.setAttribute("x",r),p.setAttribute("y",u),p.setAttribute("width",i),p.setAttribute("height",i),p.setAttribute("rx",3),p.classList.add("heatmap-cell");const b=w.get(d),m=b&&b.domains&&b.domains[t]||0,A=n(m);p.setAttribute("fill",A),p.style.animationDelay=2*(s*h+d)+"ms";const g=document.createElementNS("http://www.w3.org/2000/svg","title"),x=`${l}-${String(c).padStart(2,"0")}-${String(d).padStart(2,"0")}`;g.textContent=`${e(t)} on ${x}: ${m.toFixed(2)}`,p.appendChild(g),f.appendChild(p)}}),s.appendChild(f)}function e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function n(t){if(0===t)return"#edf2f7";return["#edf2f7","#cbd5e0","#a0aec0","#718096","#4a5568"][Math.min(Math.floor(5*t),4)]}export{t as r};
//# sourceMappingURL=heatmap-DnvOPnk2.js.map
