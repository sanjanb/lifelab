import{a as e,b as n,c as t,e as a,m as s}from"./storage-BXgAf6ik.js";import{r as i,b as d}from"./export-JXG8QGfe.js";let o={};function l(){const e=document.getElementById("domain-config");e.innerHTML=`\n    <div class="domain-list">\n      ${Object.entries(o.domains).map(([e,n])=>{return`\n        <label class="domain-item">\n          <input \n            type="checkbox" \n            class="domain-checkbox" \n            data-domain="${e}" \n            ${n?"checked":""}\n          />\n          <span>${t=e,t.charAt(0).toUpperCase()+t.slice(1)}</span>\n        </label>\n      `;var t}).join("")}\n    </div>\n    \n    <div class="add-domain">\n      <input \n        type="text" \n        id="new-domain-name" \n        placeholder="Add new domain" \n      />\n      <button class="btn-secondary" id="add-domain-btn">Add</button>\n    </div>\n    \n    <button class="btn-primary" id="save-domains">Save Changes</button>\n  `,e.querySelector("#add-domain-btn").addEventListener("click",r),e.querySelector("#save-domains").addEventListener("click",c)}function r(){const e=document.getElementById("new-domain-name"),n=e.value.trim().toLowerCase();n?void 0===o.domains[n]?(o.domains[n]=!0,e.value="",l()):alert("This domain already exists"):alert("Please enter a domain name")}function c(){document.querySelectorAll(".domain-checkbox").forEach(e=>{const n=e.dataset.domain;o.domains[n]=e.checked}),a(o)?alert("Domain settings saved!"):alert("Failed to save settings")}function u(){const e=document.getElementById("data-stats"),t=n(),a=JSON.stringify(t).length,s=Object.values(t).reduce((e,n)=>e+n.length,0);e.innerHTML=`\n    <div class="bento-stats">\n      <div class="bento-stat">\n        <div class="stat-value">${s}</div>\n        <div class="stat-label">entries</div>\n      </div>\n      <div class="bento-stat">\n        <div class="stat-value">${(a/1024).toFixed(1)}</div>\n        <div class="stat-label">KB</div>\n      </div>\n    </div>\n  `}!async function(){o=e(),l(),u(),function(){const e=document.getElementById("export-import"),t=n();e.innerHTML='\n    <div id="import-export-ui"></div>\n    <button class="btn-secondary" id="full-backup">Full Backup</button>\n  ',i(e.querySelector("#import-export-ui"),Object.values(t).flat(),e=>{s(e),u()}),e.querySelector("#full-backup").addEventListener("click",()=>{d(t)})}(),function(){const e=document.getElementById("danger-zone");e.innerHTML='\n    <p class="danger-warning">This will permanently delete all your data. This cannot be undone.</p>\n    <button class="btn-danger" id="clear-all-data">Clear All Data</button>\n  ',e.querySelector("#clear-all-data").addEventListener("click",()=>{if(!confirm("Are you ABSOLUTELY SURE you want to delete all data?\n\nThis action cannot be undone!\n\nMake sure you have exported your data first."))return;"DELETE ALL"===prompt('Type "DELETE ALL" to confirm:')&&(t()?(alert("All data has been cleared"),u()):alert("Failed to clear data"))})}(),function(){const e=document.getElementById("preferences");e.innerHTML=`\n    <div class="preference-list">\n      <div class="preference-item">\n        <label>First Day of Week</label>\n        <select id="first-day-select">\n          <option value="0" ${0===o.firstDayOfWeek?"selected":""}>Sunday</option>\n          <option value="1" ${1===o.firstDayOfWeek?"selected":""}>Monday</option>\n        </select>\n      </div>\n    </div>\n    \n    <button class="btn-primary" id="save-preferences">Save Changes</button>\n  `,e.querySelector("#save-preferences").addEventListener("click",()=>{o.firstDayOfWeek=parseInt(document.getElementById("first-day-select").value),a(o)?alert("Preferences saved!"):alert("Failed to save preferences")})}()}();
//# sourceMappingURL=settings-BzTrDrYn.js.map
