!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e="lifelab_data",t="lifelab_settings";function r(){try{const t=localStorage.getItem(e);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to load from localStorage:",t),{}}}function o(t,o,a){const n=r();return n[`${t}-${String(o).padStart(2,"0")}`]=a,function(t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(r){return console.error("Failed to save to localStorage:",r),!1}}(n)}function a(e,t){return r()[`${e}-${String(t).padStart(2,"0")}`]||[]}function n(e){const t=new Date(e.date),r=t.getFullYear(),n=t.getMonth()+1;let s=a(r,n);return s=s.filter(t=>t.date!==e.date),s.push(e),s.sort((e,t)=>e.date.localeCompare(t.date)),o(r,n,s)}function s(e){const t=new Date(e),r=t.getFullYear(),n=t.getMonth()+1;let s=a(r,n);return s=s.filter(t=>t.date!==e),o(r,n,s)}function c(e){try{return localStorage.setItem(t,JSON.stringify(e)),!0}catch(r){return console.error("Failed to save settings:",r),!1}}function l(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):{domains:{health:!0,skills:!0,finance:!0,academics:!0},theme:"light",firstDayOfWeek:1}}catch(e){return console.error("Failed to load settings:",e),{domains:{health:!0,skills:!0,finance:!0,academics:!0},theme:"light",firstDayOfWeek:1}}}function i(){try{return localStorage.removeItem(e),!0}catch(t){return console.error("Failed to clear data:",t),!1}}function u(e){const t={};e.forEach(e=>{const r=new Date(e.date),o=r.getFullYear(),a=r.getMonth()+1,n=`${o}-${String(a).padStart(2,"0")}`;t[n]||(t[n]=[]),t[n].push(e)}),Object.entries(t).forEach(([e,t])=>{const[r,n]=e.split("-"),s=a(parseInt(r),parseInt(n)),c=new Map(s.map(e=>[e.date,e]));t.forEach(e=>{c.set(e.date,e)});const l=Array.from(c.values()).sort((e,t)=>e.date.localeCompare(t.date));o(parseInt(r),parseInt(n),l)})}export{l as a,r as b,i as c,s as d,c as e,o as f,a as l,u as m,n as s};
//# sourceMappingURL=storage-BXgAf6ik.js.map
